



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Android & iOS SDK Integration">
      
      
        <link rel="canonical" href="https://kontext-hq.github.io/documentation/android/reference/">
      
      
        <meta name="author" content="Akshay Dekate">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-0.17.4, mkdocs-material-2.9.2">
    
    
      
        <title>SDK Reference - Kontext Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.ba0fd1a6.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.6079476c.css">
      
      
        
        
        <meta name="theme-color" content="#009688">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="teal" data-md-color-accent="teal">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#privacy" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://kontext-hq.github.io/documentation/" title="Kontext Documentation" class="md-header-nav__button md-logo">
          
            <img src="../../images/logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Kontext Documentation
              </span>
              <span class="md-header-nav__topic">
                SDK Reference
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Overview" class="md-tabs__link">
        Overview
      </a>
    
  </li>

      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../quickstart/" title="Android" class="md-tabs__link md-tabs__link--active">
          Android
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../iOS/quickstart/" title="iOS" class="md-tabs__link">
          iOS
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../images/logo.png" width="48" height="48">
      
    </span>
    Kontext Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../android-quickstart/" title="Android Quickstart" class="md-nav__link">
      Android Quickstart
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../iOS-quickstart/" title="iOS Quickstart" class="md-nav__link">
      iOS Quickstart
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../troubleshoot/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../privacy/" title="Privacy Policy" class="md-nav__link">
      Privacy Policy
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../terms/" title="Terms of Service" class="md-nav__link">
      Terms of Service
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../gdpr/" title="GDPR" class="md-nav__link">
      GDPR
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../data-security/" title="Security Overview" class="md-nav__link">
      Security Overview
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9" checked>
    
    <label class="md-nav__link" for="nav-9">
      Android
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Android
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../quickstart/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        SDK Reference
      </label>
    
    <a href="./" title="SDK Reference" class="md-nav__link md-nav__link--active">
      SDK Reference
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#privacy" title="Privacy" class="md-nav__link">
    Privacy
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setrequiresuserprivacyconsent" title="setRequiresUserPrivacyConsent" class="md-nav__link">
    setRequiresUserPrivacyConsent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provideuserconsent" title="provideUserConsent" class="md-nav__link">
    provideUserConsent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#userprovidedprivacyconsent" title="userProvidedPrivacyConsent" class="md-nav__link">
    userProvidedPrivacyConsent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disablegmsmissingprompt" title="disableGmsMissingPrompt" class="md-nav__link">
    disableGmsMissingPrompt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unsubscribewhennotificationsaredisabled" title="unsubscribeWhenNotificationsAreDisabled" class="md-nav__link">
    unsubscribeWhenNotificationsAreDisabled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unsubscribewhennotificationsaredisabled_1" title="unsubscribeWhenNotificationsAreDisabled" class="md-nav__link">
    unsubscribeWhenNotificationsAreDisabled
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status-methods" title="Status methods" class="md-nav__link">
    Status methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#status-recommendations" title="Status Recommendations" class="md-nav__link">
    Status Recommendations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpermissionsubscriptionstate" title="getPermissionSubscriptionState" class="md-nav__link">
    getPermissionSubscriptionState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ospermissionstate" title="OSPermissionState" class="md-nav__link">
    OSPermissionState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ossubscriptionstate" title="OSSubscriptionState" class="md-nav__link">
    OSSubscriptionState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addpermissionobserver" title="addPermissionObserver" class="md-nav__link">
    addPermissionObserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ospermissionstatechanges" title="OSPermissionStateChanges" class="md-nav__link">
    OSPermissionStateChanges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addsubscriptionobserver" title="addSubscriptionObserver" class="md-nav__link">
    addSubscriptionObserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ossubscriptionstatechanges" title="OSSubscriptionStateChanges" class="md-nav__link">
    OSSubscriptionStateChanges
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" title="Events" class="md-nav__link">
    Events
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sendevent" title="sendEvent" class="md-nav__link">
    sendEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendevents" title="sendEvents" class="md-nav__link">
    sendEvents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendscreen" title="sendScreen" class="md-nav__link">
    sendScreen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setuserprofile" title="setUserProfile" class="md-nav__link">
    setUserProfile
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data" title="Data" class="md-nav__link">
    Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#promptlocation" title="promptLocation" class="md-nav__link">
    promptLocation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notifications" title="Notifications" class="md-nav__link">
    Notifications
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#postnotification" title="postNotification" class="md-nav__link">
    postNotification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancelnotification" title="cancelNotification" class="md-nav__link">
    cancelNotification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearkontextnotifications" title="clearKontextNotifications" class="md-nav__link">
    clearKontextNotifications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setsubscription" title="setSubscription" class="md-nav__link">
    setSubscription
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notificationextenderservice" title="NotificationExtenderService" class="md-nav__link">
    NotificationExtenderService
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receiving-notifications" title="Receiving Notifications" class="md-nav__link">
    Receiving Notifications
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notificationreceivedhandler" title="NotificationReceivedHandler" class="md-nav__link">
    NotificationReceivedHandler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notificationopenedhandler" title="NotificationOpenedHandler" class="md-nav__link">
    NotificationOpenedHandler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnotificationopenresult" title="OSNotificationOpenResult" class="md-nav__link">
    OSNotificationOpenResult
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnotification" title="OSNotification" class="md-nav__link">
    OSNotification
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#displaytype" title="DisplayType" class="md-nav__link">
    DisplayType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnotificationaction" title="OSNotificationAction" class="md-nav__link">
    OSNotificationAction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnotificationpayload" title="OSNotificationPayload" class="md-nav__link">
    OSNotificationPayload
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#actionbutton" title="ActionButton" class="md-nav__link">
    ActionButton
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backgroundimagelayout" title="BackgroundImageLayout" class="md-nav__link">
    BackgroundImageLayout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opened-action" title="Opened Action" class="md-nav__link">
    Opened Action
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appearance" title="Appearance" class="md-nav__link">
    Appearance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enablevibrate" title="enableVibrate" class="md-nav__link">
    enableVibrate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enablesound" title="enableSound" class="md-nav__link">
    enableSound
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" title="Debug" class="md-nav__link">
    Debug
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setdebuglevel" title="setDebugLevel" class="md-nav__link">
    setDebugLevel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../firebasekey/" title="Generate Firebase Key" class="md-nav__link">
      Generate Firebase Key
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../troubleshoot/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      iOS
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        iOS
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/quickstart/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/reference/" title="SDK Reference" class="md-nav__link">
      SDK Reference
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/push-certificate/" title="Generate an iOS Push Cert" class="md-nav__link">
      Generate an iOS Push Cert
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../iOS/troubleshoot/" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#privacy" title="Privacy" class="md-nav__link">
    Privacy
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setrequiresuserprivacyconsent" title="setRequiresUserPrivacyConsent" class="md-nav__link">
    setRequiresUserPrivacyConsent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#provideuserconsent" title="provideUserConsent" class="md-nav__link">
    provideUserConsent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#userprovidedprivacyconsent" title="userProvidedPrivacyConsent" class="md-nav__link">
    userProvidedPrivacyConsent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disablegmsmissingprompt" title="disableGmsMissingPrompt" class="md-nav__link">
    disableGmsMissingPrompt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unsubscribewhennotificationsaredisabled" title="unsubscribeWhenNotificationsAreDisabled" class="md-nav__link">
    unsubscribeWhenNotificationsAreDisabled
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#unsubscribewhennotificationsaredisabled_1" title="unsubscribeWhenNotificationsAreDisabled" class="md-nav__link">
    unsubscribeWhenNotificationsAreDisabled
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status-methods" title="Status methods" class="md-nav__link">
    Status methods
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#status-recommendations" title="Status Recommendations" class="md-nav__link">
    Status Recommendations
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpermissionsubscriptionstate" title="getPermissionSubscriptionState" class="md-nav__link">
    getPermissionSubscriptionState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ospermissionstate" title="OSPermissionState" class="md-nav__link">
    OSPermissionState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ossubscriptionstate" title="OSSubscriptionState" class="md-nav__link">
    OSSubscriptionState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addpermissionobserver" title="addPermissionObserver" class="md-nav__link">
    addPermissionObserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ospermissionstatechanges" title="OSPermissionStateChanges" class="md-nav__link">
    OSPermissionStateChanges
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#addsubscriptionobserver" title="addSubscriptionObserver" class="md-nav__link">
    addSubscriptionObserver
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ossubscriptionstatechanges" title="OSSubscriptionStateChanges" class="md-nav__link">
    OSSubscriptionStateChanges
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#events" title="Events" class="md-nav__link">
    Events
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#sendevent" title="sendEvent" class="md-nav__link">
    sendEvent
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendevents" title="sendEvents" class="md-nav__link">
    sendEvents
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sendscreen" title="sendScreen" class="md-nav__link">
    sendScreen
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setuserprofile" title="setUserProfile" class="md-nav__link">
    setUserProfile
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#data" title="Data" class="md-nav__link">
    Data
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#promptlocation" title="promptLocation" class="md-nav__link">
    promptLocation
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notifications" title="Notifications" class="md-nav__link">
    Notifications
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#postnotification" title="postNotification" class="md-nav__link">
    postNotification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cancelnotification" title="cancelNotification" class="md-nav__link">
    cancelNotification
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#clearkontextnotifications" title="clearKontextNotifications" class="md-nav__link">
    clearKontextNotifications
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setsubscription" title="setSubscription" class="md-nav__link">
    setSubscription
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notificationextenderservice" title="NotificationExtenderService" class="md-nav__link">
    NotificationExtenderService
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#receiving-notifications" title="Receiving Notifications" class="md-nav__link">
    Receiving Notifications
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#notificationreceivedhandler" title="NotificationReceivedHandler" class="md-nav__link">
    NotificationReceivedHandler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#notificationopenedhandler" title="NotificationOpenedHandler" class="md-nav__link">
    NotificationOpenedHandler
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnotificationopenresult" title="OSNotificationOpenResult" class="md-nav__link">
    OSNotificationOpenResult
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnotification" title="OSNotification" class="md-nav__link">
    OSNotification
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#displaytype" title="DisplayType" class="md-nav__link">
    DisplayType
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnotificationaction" title="OSNotificationAction" class="md-nav__link">
    OSNotificationAction
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#osnotificationpayload" title="OSNotificationPayload" class="md-nav__link">
    OSNotificationPayload
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#actionbutton" title="ActionButton" class="md-nav__link">
    ActionButton
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backgroundimagelayout" title="BackgroundImageLayout" class="md-nav__link">
    BackgroundImageLayout
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opened-action" title="Opened Action" class="md-nav__link">
    Opened Action
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#appearance" title="Appearance" class="md-nav__link">
    Appearance
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#enablevibrate" title="enableVibrate" class="md-nav__link">
    enableVibrate
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enablesound" title="enableSound" class="md-nav__link">
    enableSound
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#debug" title="Debug" class="md-nav__link">
    Debug
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#setdebuglevel" title="setDebugLevel" class="md-nav__link">
    setDebugLevel
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>SDK Reference</h1>
                
                <p>Android Native SDK</p>
<p>Kontext ANDROID Native API Reference</p>
<div class="admonition info">
<p class="admonition-title">Just starting with Android?</p>
<p>Check out our <a href="../../android/quickstart">Android SDK Setup</a> guide.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">Upgrade to 3.5.1+</p>
<p>A number the methods and classes below were recently added in our 3.5.1 SDK. Make sure you have updated to this version.</p>
</div>
<table>
<thead>
<tr>
<th>Calls</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Privacy</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#setrequiresuserprivacyconsent">setRequiresUserPrivacyConsent</a></td>
<td>Method</td>
<td>Delays initialization of the SDK until the user provides privacy consent</td>
</tr>
<tr>
<td><a href="#provideuserconsent">provideUserConsent</a></td>
<td>Method</td>
<td>Tells the SDK that the user has provided privacy consent (if required)</td>
</tr>
<tr>
<td><a href="#userprovidedprivacyconsent">userProvidedPrivacyConsent</a></td>
<td>Method</td>
<td>Returns a boolean indicating if the SDK is waiting for user privacy consent</td>
</tr>
<tr>
<td>Stauts</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#getpermissionsubscriptionstate">getPermissionSubscriptionState</a></td>
<td>Method</td>
<td>Current Permission and Subscription status</td>
</tr>
<tr>
<td><a href="#addpermissionobserver">addPermissionObserver</a></td>
<td>Method</td>
<td>Permission status changes</td>
</tr>
<tr>
<td><a href="#addsubscriptionobserver">addSubscriptionObserver</a></td>
<td>Method</td>
<td>Subscription status changes</td>
</tr>
<tr>
<td>Events</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#sendevent">sendEvent</a></td>
<td>Method</td>
<td>Send a single user event to Kontext</td>
</tr>
<tr>
<td><a href="#sendevents">sendEvents</a></td>
<td>Method</td>
<td>Batch and send multiple events to Kontext</td>
</tr>
<tr>
<td><a href="#sendscreen">sendScreen</a></td>
<td>Method</td>
<td>Send screen view activity to Kontext</td>
</tr>
<tr>
<td><a href="#setUserProfile">setUserProfile</a></td>
<td>Method</td>
<td>Send user properties to Kontext</td>
</tr>
<tr>
<td>Data</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#promptlocation">promptLocation</a></td>
<td>Method</td>
<td>Prompt Users for Location</td>
</tr>
<tr>
<td>Receiving Notifications</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#postnotification">postNotification</a></td>
<td>Method</td>
<td>Send or schedule a notification to a user</td>
</tr>
<tr>
<td><a href="#cancelnotification">cancelNotification</a></td>
<td>Method</td>
<td>Delete a single app notification</td>
</tr>
<tr>
<td><a href="#clearkontextnotifications">clearKontextNotifications</a></td>
<td>Method</td>
<td>Delete all app notifications</td>
</tr>
<tr>
<td><a href="#setsubscription">setSubscription</a></td>
<td>Method</td>
<td>Opt users in or out of receiving notifications</td>
</tr>
<tr>
<td><a href="#notificationextenderservice">NotificationExtenderService</a></td>
<td>Method + Manifest</td>
<td>Add custom data to a notification, or override notification options</td>
</tr>
<tr>
<td>Notification Events</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#notificationreceivedhandler">NotificationReceivedHandler</a></td>
<td>Handler</td>
<td>When a notification is received by a device</td>
</tr>
<tr>
<td><a href="#notificationopenedhandler">NotificationOpenedHandler</a></td>
<td>Handler</td>
<td>When a user takes an action on a notification</td>
</tr>
<tr>
<td><a href="#opened-action">Opened Action</a></td>
<td>Android Manifes</td>
<td>Disable resuming launcher activity when notification is opened</td>
</tr>
<tr>
<td>Objects</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#osnotificationopenresult">OSNotificationOpenResult</a></td>
<td>Object</td>
<td>Information returned from a notification the user received</td>
</tr>
<tr>
<td><a href="#osnotification">OSNotification</a></td>
<td>Object</td>
<td>Notification the user received</td>
</tr>
<tr>
<td><a href="#osnotificationaction">OSNotificationAction</a></td>
<td></td>
<td>Action the user took on the notification</td>
</tr>
<tr>
<td><a href="#osnotificationpayload">OSNotificationPayload</a></td>
<td></td>
<td>Contents and settings of the notification the user received</td>
</tr>
<tr>
<td>Appearance</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#setinfocusdisplaying">setInFocusDisplaying</a></td>
<td>Method</td>
<td>Change how the notification is displayed when your app is actively being used.</td>
</tr>
<tr>
<td><a href="#enablevibrate">enableVibrate</a></td>
<td>Method</td>
<td>When user receives notification, vibrate device less</td>
</tr>
<tr>
<td><a href="#enablesound">enableSound</a></td>
<td>Method</td>
<td>When user receives notification, do not play a sound</td>
</tr>
<tr>
<td>Debug</td>
<td></td>
<td></td>
</tr>
<tr>
<td><a href="#setDebugLevel">setDebugLevel</a></td>
<td>Method</td>
<td>Enable logging to help debug Kontext implementation</td>
</tr>
</tbody>
</table>
<h2 id="privacy">Privacy<a class="headerlink" href="#privacy" title="Permanent link">&para;</a></h2>
<h3 id="setrequiresuserprivacyconsent"><code class="codehilite">setRequiresUserPrivacyConsent</code><a class="headerlink" href="#setrequiresuserprivacyconsent" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Lets your app require the user's privacy consent before it will initialize. If you call this method and pass in <code class="codehilite">true</code>, the SDK will delay initialization until your application calls `provideUserConsent(true).</p>
<p>If the SDK is waiting for the user's consent, calling any Kontext SDK methods will do nothing but print a warning. The user will not be registered for push notifications until this happens.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="c1">// the SDK will delay initialization and won&#39;t collect data.</span>
<span class="n">Kontext</span><span class="o">.</span><span class="na">setRequiresUserPrivacyConsent</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<h3 id="provideuserconsent"><code class="codehilite">provideUserConsent</code><a class="headerlink" href="#provideuserconsent" title="Permanent link">&para;</a></h3>
<p>If your application is set to require the user's privacy consent, you can provide this consent using this method. Until you call <code class="codehilite">provideUserConsent(true)</code>, the SDK will not fully initialize and will not send any data to Kontext.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">onUserTappedProvidePrivacyConsent</span><span class="o">(</span><span class="n">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
  <span class="c1">//will initialize the Kontext SDK and enable push notifications</span>
  <span class="n">Kontext</span><span class="o">.</span><span class="na">provideUserConsent</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<h3 id="userprovidedprivacyconsent"><code class="codehilite">userProvidedPrivacyConsent</code><a class="headerlink" href="#userprovidedprivacyconsent" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Returns a boolean indicating if the user has provided privacy consent. </p>
<h3 id="disablegmsmissingprompt"><code class="codehilite">disableGmsMissingPrompt</code><a class="headerlink" href="#disablegmsmissingprompt" title="Permanent link">&para;</a></h3>
<p>BUILDER METHOD</p>
<p>Prompts the user to update/enable Google Play services if it's disabled on the device.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">prompt</code></td>
<td>boolean</td>
<td><code class="codehilite">false</code> (DEFAULT) - prompt users<br /> <code class="codehilite">true</code> to never show the out of date prompt.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Kontext</span><span class="o">.</span><span class="na">startInit</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
  <span class="o">.</span><span class="na">disableGmsMissingPrompt</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
  <span class="o">.</span><span class="na">init</span><span class="o">();</span>
</pre></div>
</td></tr></table>

<h3 id="unsubscribewhennotificationsaredisabled"><code class="codehilite">unsubscribeWhenNotificationsAreDisabled</code><a class="headerlink" href="#unsubscribewhennotificationsaredisabled" title="Permanent link">&para;</a></h3>
<p>BUILDER METHOD</p>
<p>If notifications are disabled for your app, unsubscribe the user from Kontext. This will happen when your users go to Settings &gt; Apps and turn off notifications, or if they long press one of your notifications and select "block notifications".
This is <code class="codehilite">false</code> by default.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">prompt</code></td>
<td>boolean</td>
<td><code class="codehilite">false</code> (DEFAULT) - prompt users<br /> <code class="codehilite">true</code> to never show the out of date prompt.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Kontext</span><span class="o">.</span><span class="na">startInit</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
  <span class="o">.</span><span class="na">disableGmsMissingPrompt</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
  <span class="o">.</span><span class="na">init</span><span class="o">();</span>
</pre></div>
</td></tr></table>

<h3 id="unsubscribewhennotificationsaredisabled_1"><code class="codehilite">unsubscribeWhenNotificationsAreDisabled</code><a class="headerlink" href="#unsubscribewhennotificationsaredisabled_1" title="Permanent link">&para;</a></h3>
<p>BUILDER METHOD</p>
<p>If notifications are disabled for your app, unsubscribe the user from Kontext. This will happen when your users go to Settings &gt; Apps and turn off notifications, or if they long press one of your notifications and select "block notifications".
This is <code class="codehilite">false</code> by default.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">prompt</code></td>
<td>boolean</td>
<td><code class="codehilite">false</code> (DEFAULT) - don't unsubscribe users<br /> <code class="codehilite">true</code> - unsubscribe users when notifications are disabled</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Kontext</span><span class="o">.</span><span class="na">startInit</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
  <span class="o">.</span><span class="na">unsubscribeWhenNotificationsAreDisabled</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span>
  <span class="o">.</span><span class="na">init</span><span class="o">();</span>
</pre></div>
</td></tr></table>

<h2 id="status-methods">Status methods<a class="headerlink" href="#status-methods" title="Permanent link">&para;</a></h2>
<p>The following methods provide details on the permission and subscribed state of the device. Use <code class="codehilite">getPermissionSubscriptionState</code> to get the current immediate state and use <code class="codehilite">addPermissionObserver</code> and / or <code class="codehilite">addSubscriptionObserver</code> to react to changes.</p>
<h3 id="status-recommendations">Status Recommendations<a class="headerlink" href="#status-recommendations" title="Permanent link">&para;</a></h3>
<p><a href="#getpermissionsubscriptionstate">getPermissionSubscriptionState</a> - Use to load your UI to the correct state. Such as showing a toggle button to enable notifications.</p>
<p><a href="#addsubscriptionobserver">addSubscriptionObserver</a> - Use to update your server when the user becomes subscribed or unsubscribed and to get the Kontext player / user id.
Example if you need to store the Kontext player / user id on your backend you can make a REST API call directly from the observer's callback. The Kontext observer ONLY fires when there is a change, including NOT firing even if the app has been restarted. This helps ensure your not making unnecessary network calls to your backend on each app restart if nothing changed.</p>
<h3 id="getpermissionsubscriptionstate"><code class="codehilite">getPermissionSubscriptionState</code><a class="headerlink" href="#getpermissionsubscriptionstate" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Get the current notification and permission state. Returns a <code class="codehilite">OSPermissionSubscriptionState</code> type described below.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">getPermissionStatus()</code></td>
<td><a href="#ospermissionstate">OSPermissionState</a></td>
<td>Android Notification Permissions state</td>
</tr>
<tr>
<td><code class="codehilite">getSubscriptionStatus()</code></td>
<td><a href="#ossubscriptionstate">OSSubscriptionState</a></td>
<td>Google and  Kontext subscription state</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">OSPermissionSubscriptionState</span> <span class="n">status</span> <span class="o">=</span> <span class="n">Kontext</span><span class="o">.</span><span class="na">getPermissionSubscriptionState</span><span class="o">();</span>
<span class="n">status</span><span class="o">.</span><span class="na">getPermissionStatus</span><span class="o">().</span><span class="na">getEnabled</span><span class="o">();</span>

<span class="n">status</span><span class="o">.</span><span class="na">getSubscriptionStatus</span><span class="o">().</span><span class="na">getSubscribed</span><span class="o">();</span>
<span class="n">status</span><span class="o">.</span><span class="na">getSubscriptionStatus</span><span class="o">().</span><span class="na">getUserSubscriptionSetting</span><span class="o">();</span>
<span class="n">status</span><span class="o">.</span><span class="na">getSubscriptionStatus</span><span class="o">().</span><span class="na">getUserId</span><span class="o">();</span>
<span class="n">status</span><span class="o">.</span><span class="na">getSubscriptionStatus</span><span class="o">().</span><span class="na">getPushToken</span><span class="o">();</span>
</pre></div>
</td></tr></table>

<h3 id="ospermissionstate"><code class="codehilite">OSPermissionState</code><a class="headerlink" href="#ospermissionstate" title="Permanent link">&para;</a></h3>
<p>CLASS</p>
<p>The Notification permission status of your app. Contains enabled value to know if the user has turned off notifications for your app.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">getEnabled()</code></td>
<td>boolean</td>
<td><code class="codehilite">true</code> if notifications are enabled.<br /> Will only be <code class="codehilite">false</code> if the user disables notifications for your app from the system settings</td>
</tr>
</tbody>
</table>
<h3 id="ossubscriptionstate"><code class="codehilite">OSSubscriptionState</code><a class="headerlink" href="#ossubscriptionstate" title="Permanent link">&para;</a></h3>
<p>CLASS</p>
<p>Provides subscription state details of subscribed to push as well as the Kontext player / user id and the devices push token.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">getSubscribed()</code></td>
<td>boolean</td>
<td><code class="codehilite">true</code> if the device can receive push notifications from  Kontext.<br /> <code class="codehilite">false</code> if the device has disabled push notifications or not successfully registered yet with either  Kontext or FCM with a valid push token.</td>
</tr>
<tr>
<td><code class="codehilite">getUserId()</code></td>
<td>String</td>
<td>The  Kontext player / user id for the device. <code class="codehilite">null</code> if the device hasn't registered with  Kontext's server yet.</td>
</tr>
<tr>
<td><code class="codehilite">getPushToken()</code></td>
<td>String</td>
<td>The GCM / FCM push token for the device. <code class="codehilite">null</code> if the device hasn't registered with Google's server yet.</td>
</tr>
</tbody>
</table>
<h3 id="addpermissionobserver"><code class="codehilite">addPermissionObserver</code><a class="headerlink" href="#addpermissionobserver" title="Permanent link">&para;</a></h3>
<p>HANDLER</p>
<p>The <code class="codehilite">onOSPermissionChanged</code> method will be fired on the passed-in object when a notification permission setting changes. This happens when the user enables or disables notifications for your app from the system settings outside of your app. Disable detection is supported on Android 4.4+.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="kd">implements</span> <span class="n">OSPermissionObserver</span> <span class="o">{</span>
  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Kontext</span><span class="o">.</span><span class="na">addPermissionObserver</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOSPermissionChanged</span><span class="o">(</span><span class="n">OSPermissionStateChanges</span> <span class="n">stateChanges</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">stateChanges</span><span class="o">.</span><span class="na">getFrom</span><span class="o">().</span><span class="na">getEnabled</span><span class="o">()</span> <span class="o">&amp;&amp;</span>
        <span class="o">!</span><span class="n">stateChanges</span><span class="o">.</span><span class="na">getTo</span><span class="o">().</span><span class="na">getEnabled</span><span class="o">())</span> <span class="o">{</span>
         <span class="k">new</span> <span class="n">AlertDialog</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
             <span class="o">.</span><span class="na">setMessage</span><span class="o">(</span><span class="s">&quot;Notifications Disabled!&quot;</span><span class="o">)</span>
             <span class="o">.</span><span class="na">show</span><span class="o">();</span>
      <span class="o">}</span>

      <span class="n">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="s">&quot;Debug&quot;</span><span class="o">,</span> <span class="s">&quot;onOSPermissionChanged: &quot;</span> <span class="o">+</span> <span class="n">stateChanges</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="c1">// Example Logcat entry - User disabling notifications then returning to your app.</span>
<span class="c1">// onOSPermissionChanged{&quot;from&quot;:{&quot;enabled&quot;:true},&quot;to&quot;:{&quot;enabled&quot;:false}}</span>
</pre></div>
</td></tr></table>

<div class="admonition warning">
<p class="admonition-title">Keep a Reference</p>
<p>Make sure to hold a reference to your observable at the class level, otherwise it my not fire.</p>
</div>
<div class="admonition success">
<p class="admonition-title">Leak Safe</p>
<p>Kontext holds a weak reference to your observer so it's guaranteed not to leak your <code class="codehilite">Activity</code>.</p>
</div>
<h3 id="ospermissionstatechanges"><code class="codehilite">OSPermissionStateChanges</code><a class="headerlink" href="#ospermissionstatechanges" title="Permanent link">&para;</a></h3>
<p>CLASS</p>
<p>Instance is given to your <code class="codehilite">onOSPermissionChanged</code> method which provides what the value was (<strong>"from"</strong>) and what the value is now (<strong>"to"</strong>).</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">getFrom()</code></td>
<td><a href="#ossubscriptionstate">OSSubscriptionState</a></td>
<td>What the state was</td>
</tr>
<tr>
<td><code class="codehilite">getTo()</code></td>
<td><a href="#ossubscriptionstate">OSSubscriptionState</a></td>
<td>What the state is now</td>
</tr>
</tbody>
</table>
<h3 id="addsubscriptionobserver"><code class="codehilite">addSubscriptionObserver</code><a class="headerlink" href="#addsubscriptionobserver" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>The <code class="codehilite">onOSSubscriptionChanged</code> method will be fired on the passed-in object when a notification subscription property changes.</p>
<p>This includes the following events:</p>
<ul>
<li>Getting a Registration Id (push token) from Google</li>
<li>Getting a player / user id from Kontext</li>
<li><code class="codehilite">Kontext.setSubscription</code> is called</li>
<li>User disables or enables notifications</li>
</ul>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="kd">implements</span> <span class="n">OSSubscriptionObserver</span> <span class="o">{</span>
  <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Kontext</span><span class="o">.</span><span class="na">addSubscriptionObserver</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onOSSubscriptionChanged</span><span class="o">(</span><span class="n">OSSubscriptionStateChanges</span> <span class="n">stateChanges</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(!</span><span class="n">stateChanges</span><span class="o">.</span><span class="na">getFrom</span><span class="o">().</span><span class="na">getSubscribed</span><span class="o">()</span> <span class="o">&amp;&amp;</span>
        <span class="n">stateChanges</span><span class="o">.</span><span class="na">getTo</span><span class="o">().</span><span class="na">getSubscribed</span><span class="o">())</span> <span class="o">{</span>
         <span class="k">new</span> <span class="n">AlertDialog</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
             <span class="o">.</span><span class="na">setMessage</span><span class="o">(</span><span class="s">&quot;You&#39;ve successfully subscribed to push notifications!&quot;</span><span class="o">)</span>
             <span class="o">.</span><span class="na">show</span><span class="o">();</span>
        <span class="c1">// get player ID</span>
        <span class="n">stateChanges</span><span class="o">.</span><span class="na">getTo</span><span class="o">().</span><span class="na">getUserId</span><span class="o">();</span>
      <span class="o">}</span>

      <span class="n">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="s">&quot;Debug&quot;</span><span class="o">,</span> <span class="s">&quot;onOSPermissionChanged: &quot;</span> <span class="o">+</span> <span class="n">stateChanges</span><span class="o">);</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="o">/*</span>
<span class="n">Example</span> <span class="n">Logcat</span> <span class="n">entry</span> <span class="o">-</span> <span class="n">User</span> <span class="n">disabling</span> <span class="n">notifications</span> <span class="n">then</span> <span class="n">returning</span> <span class="n">to</span> <span class="n">your</span> <span class="n">app</span><span class="o">.</span>
<span class="nl">onOSSubscriptionChanged:</span>
<span class="o">{</span><span class="s">&quot;from&quot;</span><span class="o">:{</span><span class="s">&quot;pushToken&quot;</span><span class="o">:</span><span class="s">&quot;APA91bG9cmZ262s5gJhr8jvbg1q7aiviEC6lcOCgAQliEzHKO3eOdX5cm7IQqMSWfy8Od7Ol3jSjFfvCfeO2UYUpanJCURJ8RdhgEuV8grYxOCwPNJr5GoqcWTQOaL9u-qE2PQcFlv4K&quot;</span><span class="o">,</span><span class="s">&quot;userSubscriptionSetting&quot;</span><span class="o">:</span><span class="kc">true</span><span class="o">,</span><span class="s">&quot;subscribed&quot;</span><span class="o">:</span><span class="kc">false</span><span class="o">},</span>
 <span class="s">&quot;to&quot;</span><span class="o">:</span>  <span class="o">{</span><span class="s">&quot;userId&quot;</span><span class="o">:</span><span class="s">&quot;22712a53-9b5c-4eab-a828-f18f81167fef&quot;</span><span class="o">,</span><span class="s">&quot;pushToken&quot;</span><span class="o">:</span><span class="s">&quot;APA91bG9cmZ262s5gJhr8jvbg1q7aiviEC6lcOCgAQliEzHKO3eOdX5cm7IQqMSWfy8Od7Ol3jSjFfvCfeO2UYUpanJCURJ8RdhgEuV8grYxOCwPNJr5GoqcWTQOaL9u-qE2PQcFlv4K&quot;</span><span class="o">,</span><span class="s">&quot;userSubscriptionSetting&quot;</span><span class="o">:</span><span class="kc">true</span><span class="o">,</span><span class="s">&quot;subscribed&quot;</span><span class="o">:</span><span class="kc">true</span><span class="o">}}</span>
</pre></div>
</td></tr></table>

<div class="admonition warning">
<p class="admonition-title">Keep a Reference</p>
<p>Make sure to hold a reference to your observable at the class level, otherwise it my not fire.</p>
</div>
<div class="admonition success">
<p class="admonition-title">Leak Safe</p>
<p>Kontext holds a weak reference to your observer so it's guaranteed not to leak your <code class="codehilite">Activity</code>.</p>
</div>
<h3 id="ossubscriptionstatechanges"><code class="codehilite">OSSubscriptionStateChanges</code><a class="headerlink" href="#ossubscriptionstatechanges" title="Permanent link">&para;</a></h3>
<p>CLASS</p>
<p>Instance is given to your <code class="codehilite">onOSSubscriptionChanged</code> method which provides what the value was (<strong>"from"</strong>) and what the value is now (<strong>"to"</strong>).</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>getFrom()</td>
<td><a href="#ospermissionstate">OSPermissionState</a></td>
<td>What the state was (past)</td>
</tr>
<tr>
<td>getTo()</td>
<td><a href="#ospermissionstate">OSPermissionState</a></td>
<td>What the state is now</td>
</tr>
</tbody>
</table>
<h2 id="events">Events<a class="headerlink" href="#events" title="Permanent link">&para;</a></h2>
<h3 id="sendevent"><code class="codehilite">sendEvent</code><a class="headerlink" href="#sendevent" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Tag a user based on an app event of your choosing so later you can create segments in <em>Segments</em> to target these users. Use <code class="codehilite">sendTags</code> if you need to set more than one tag on a user at a time.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">key</code></td>
<td>String</td>
<td>Key of your choosing to create or update.</td>
</tr>
<tr>
<td><code class="codehilite">value</code></td>
<td>String</td>
<td>Value to set on the key.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">JSONObject</span> <span class="n">payload</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
      <span class="n">payload</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Product Added&quot;</span><span class="o">,</span> <span class="s">&quot;Applie iPhone&quot;</span><span class="o">);</span>
      <span class="n">Kontext</span><span class="o">.</span><span class="na">sendEvent</span><span class="o">(</span><span class="s">&quot;Product&quot;</span><span class="o">,</span> <span class="n">payload</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<h3 id="sendevents"><code class="codehilite">sendEvents</code><a class="headerlink" href="#sendevents" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Tag a user based on an app event of your choosing so later you can create segments in <em>Segments</em> to target these users.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">keyValues</code></td>
<td>JSONObject</td>
<td>Key value pairs of your choosing to create or update.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">JSONObject</span> <span class="n">events</span> <span class="o">=</span> <span class="k">new</span> <span class="n">JSONObject</span><span class="o">();</span>
    <span class="n">events</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;key1&quot;</span><span class="o">,</span> <span class="s">&quot;value1&quot;</span><span class="o">);</span>
    <span class="n">eventss</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;key2&quot;</span><span class="o">,</span> <span class="s">&quot;value2&quot;</span><span class="o">);</span>
    <span class="n">Kontext</span><span class="o">.</span><span class="na">sendEvents</span><span class="o">(</span><span class="n">events</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<h3 id="sendscreen"><code class="codehilite">sendScreen</code><a class="headerlink" href="#sendscreen" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Tag a user based on an screen view event of your choosing so later you can create segments in <em>Segments</em> to target these users.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">keyValues</code></td>
<td>JSONObject</td>
<td>Key value pairs of your choosing to create or update.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Kontext</span><span class="o">.</span><span class="na">sendScreen</span><span class="o">(</span><span class="s">&quot;screen Name&quot;</span><span class="o">);</span>      <span class="c1">// String</span>
</pre></div>
</td></tr></table>

<h3 id="setuserprofile"><code class="codehilite">setUserProfile</code><a class="headerlink" href="#setuserprofile" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Tag a user based on their properties like name, age, gender, location, etc.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">keyValues</code></td>
<td>HashMap</td>
<td>Key value pairs of your choosing to create or update.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">profileUpdate</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;();</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Name&quot;</span><span class="o">,</span> <span class="s">&quot;John Dow&quot;</span><span class="o">);</span>                  <span class="c1">// String</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Email&quot;</span><span class="o">,</span> <span class="s">&quot;john@gmail.com&quot;</span><span class="o">);</span>               <span class="c1">// Email address of the user</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Phone&quot;</span><span class="o">,</span> <span class="s">&quot;+222333444&quot;</span><span class="o">);</span>                 <span class="c1">// Phone (with the country code)</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Gender&quot;</span><span class="o">,</span> <span class="s">&quot;M&quot;</span><span class="o">);</span>                           <span class="c1">// Can be either M or F</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Employed&quot;</span><span class="o">,</span> <span class="s">&quot;Y&quot;</span><span class="o">);</span>                         <span class="c1">// Can be either Y or N</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Education&quot;</span><span class="o">,</span> <span class="s">&quot;Graduate&quot;</span><span class="o">);</span>                 <span class="c1">// Can be either Graduate, College or School</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Married&quot;</span><span class="o">,</span> <span class="s">&quot;Y&quot;</span><span class="o">);</span>                          <span class="c1">// Can be either Y or N</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;DOB&quot;</span><span class="o">,</span> <span class="k">new</span> <span class="n">Date</span><span class="o">());</span>                       <span class="c1">// Date of Birth. Set the Date object to the appropriate value first</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Age&quot;</span><span class="o">,</span> <span class="mi">28</span><span class="o">);</span>                               <span class="c1">// Not required if DOB is set</span>
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Tz&quot;</span><span class="o">,</span> <span class="s">&quot;Asia/Kolkata&quot;</span><span class="o">);</span>                    
      <span class="n">profileUpdate</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&quot;Photo&quot;</span><span class="o">,</span> <span class="s">&quot;www.foobar.com/image.jpeg&quot;</span><span class="o">);</span>    <span class="c1">// URL to the Image</span>

      <span class="n">Kontext</span><span class="o">.</span><span class="na">setUserProfile</span><span class="o">(</span><span class="n">profileUpdate</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<h2 id="data">Data<a class="headerlink" href="#data" title="Permanent link">&para;</a></h2>
<h3 id="promptlocation"><code class="codehilite">promptLocation</code><a class="headerlink" href="#promptlocation" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Prompts the user for location permissions. This allows for geotagging so you can send notifications to users based on location.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Kontext</span><span class="o">.</span><span class="na">promptLocation</span><span class="o">();</span>
</pre></div>
</td></tr></table>

<p>Make sure you have one of the following permissions in your <code class="codehilite">AndroidManifest.xml</code> as well.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_COARSE_LOCATION&quot;</span><span class="nt">/&gt;</span>
</pre></div>
</td></tr></table>

<h2 id="notifications">Notifications<a class="headerlink" href="#notifications" title="Permanent link">&para;</a></h2>
<h3 id="postnotification"><code class="codehilite">postNotification</code><a class="headerlink" href="#postnotification" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Allows you to send notifications from user to user or schedule ones in the future to be delivered to the current device.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">paramters</code></td>
<td>JSONObject</td>
<td>Contains notification options</td>
</tr>
</tbody>
</table>
<h3 id="cancelnotification"><code class="codehilite">cancelNotification</code><a class="headerlink" href="#cancelnotification" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Cancels a single Kontext notification based on its Android notification integer id. Use instead of Android's <code class="codehilite">NotificationManager.cancel(id);</code> otherwise the notification will be restored when your app is restarted.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kt">int</span> <span class="n">id</span> <span class="o">=</span> <span class="mi">1234</span><span class="o">;</span>
<span class="n">Kontext</span><span class="o">.</span><span class="na">cancelNotification</span><span class="o">(</span><span class="n">id</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<h3 id="clearkontextnotifications"><code class="codehilite">clearKontextNotifications</code><a class="headerlink" href="#clearkontextnotifications" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Removes all Kontext notifications from the Notification Shade. If you just use <code class="codehilite">NotificationManager.cancelAll();</code>Kontext notifications will be restored your app is restarted.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Kontext</span><span class="o">.</span><span class="na">clearKontextNotifications</span><span class="o">();</span>
</pre></div>
</td></tr></table>

<h3 id="setsubscription"><code class="codehilite">setSubscription</code><a class="headerlink" href="#setsubscription" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>You can call this method with false to opt users out of receiving all notifications through Kontext. You can pass true later to opt users back into notifications.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">enable</code></td>
<td>boolean</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Kontext</span><span class="o">.</span><span class="na">setSubscription</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<h3 id="notificationextenderservice"><code class="codehilite">NotificationExtenderService</code><a class="headerlink" href="#notificationextenderservice" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Kontext supports sending additional data along with a notification as key value pairs. You can read this additional data when a notification is opened by adding a <a href="#notificationopenedhandler">NotificationOpenedHandler</a> instead.</p>
<p>However if you want to do one of the following continue with the instructions below.</p>
<ul>
<li>Receive data in the background with or without displaying a notification.</li>
<li>Override specific notification settings depending on client side app logic such as custom accent color, vibration pattern, or other any other <code class="codehilite">NotificationCompat</code> options available.</li>
</ul>
<p><strong>1.</strong> Create a class that extents <code class="codehilite">NotificationExtenderService</code> and implement the <code class="codehilite">onNotificationProcessing</code> method.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">com.kontext.OSNotificationPayload</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.kontext.NotificationExtenderService</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NotificationExtenderBareBonesExample</span> <span class="kd">extends</span> <span class="n">NotificationExtenderService</span> <span class="o">{</span>
   <span class="nd">@Override</span>
   <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">onNotificationProcessing</span><span class="o">(</span><span class="n">OSNotificationReceivedResult</span> <span class="n">receivedResult</span><span class="o">)</span> <span class="o">{</span>
        <span class="c1">// Read properties from result.</span>

      <span class="c1">// Return true to stop the notification from displaying.</span>
      <span class="k">return</span> <span class="kc">false</span><span class="o">;</span>
   <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p><strong>2.</strong> Add the following to your <code class="codehilite">AndroidManifest.xml</code>.
<em>Replace 'YOUR_CLASS_NAME' with the class name you used above.</em></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">&lt;service</span>
   <span class="na">android:name=</span><span class="s">&quot;.YOUR_CLASS_NAME&quot;</span>
   <span class="na">android:permission=</span><span class="s">&quot;android.permission.BIND_JOB_SERVICE&quot;</span>
   <span class="na">android:exported=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>
   <span class="nt">&lt;intent-filter&gt;</span>
      <span class="nt">&lt;action</span> <span class="na">android:name=</span><span class="s">&quot;com.kontext.NotificationExtender&quot;</span> <span class="nt">/&gt;</span>
   <span class="nt">&lt;/intent-filter&gt;</span>
<span class="nt">&lt;/service&gt;</span>
</pre></div>
</td></tr></table>

<p><strong>3.</strong> To override or extend specific notification properties call <code class="codehilite">displayNotification</code> with <code class="codehilite">OverrideSettings</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kn">import</span> <span class="nn">android.support.v4.app.NotificationCompat</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.kontext.OSNotificationPayload</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.kontext.NotificationExtenderService</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.math.BigInteger</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">NotificationExtenderExample</span> <span class="kd">extends</span> <span class="n">NotificationExtenderService</span> <span class="o">{</span>
   <span class="nd">@Override</span>
   <span class="kd">protected</span> <span class="kt">boolean</span> <span class="nf">onNotificationProcessing</span><span class="o">(</span><span class="n">OSNotificationReceivedResult</span> <span class="n">receivedResult</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">OverrideSettings</span> <span class="n">overrideSettings</span> <span class="o">=</span> <span class="k">new</span> <span class="n">OverrideSettings</span><span class="o">();</span>
      <span class="n">overrideSettings</span><span class="o">.</span><span class="na">extender</span> <span class="o">=</span> <span class="k">new</span> <span class="n">NotificationCompat</span><span class="o">.</span><span class="na">Extender</span><span class="o">()</span> <span class="o">{</span>
         <span class="nd">@Override</span>
         <span class="kd">public</span> <span class="n">NotificationCompat</span><span class="o">.</span><span class="na">Builder</span> <span class="nf">extend</span><span class="o">(</span><span class="n">NotificationCompat</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// Sets the background notification color to Green on Android 5.0+ devices.</span>
            <span class="k">return</span> <span class="n">builder</span><span class="o">.</span><span class="na">setColor</span><span class="o">(</span><span class="k">new</span> <span class="n">BigInteger</span><span class="o">(</span><span class="s">&quot;FF00FF00&quot;</span><span class="o">,</span> <span class="mi">16</span><span class="o">).</span><span class="na">intValue</span><span class="o">());</span>
         <span class="o">}</span>
      <span class="o">};</span>

      <span class="n">OSNotificationDisplayedResult</span> <span class="n">displayedResult</span> <span class="o">=</span> <span class="n">displayNotification</span><span class="o">(</span><span class="n">overrideSettings</span><span class="o">);</span>
            <span class="n">Log</span><span class="o">.</span><span class="na">d</span><span class="o">(</span><span class="s">&quot;KontextExample&quot;</span><span class="o">,</span> <span class="s">&quot;Notification displayed with id: &quot;</span> <span class="o">+</span> <span class="n">displayedResult</span><span class="o">.</span><span class="na">androidNotificationId</span><span class="o">);</span>

      <span class="k">return</span> <span class="kc">true</span><span class="o">;</span>
   <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<p><strong>Additional Notes</strong>
<code class="codehilite">NotificationExtenderService</code> is an Android <code class="codehilite">IntentService</code> so please do all your work synchronously. A wake lock is obtained so the device will not sleep while you're processing the payload. </p>
<h2 id="receiving-notifications">Receiving Notifications<a class="headerlink" href="#receiving-notifications" title="Permanent link">&para;</a></h2>
<h3 id="notificationreceivedhandler"><code class="codehilite">NotificationReceivedHandler</code><a class="headerlink" href="#notificationreceivedhandler" title="Permanent link">&para;</a></h3>
<p>HANDLER</p>
<p>Fires when a notification is received. It will be fired when your app is in focus or in the background.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">notification</code></td>
<td><a href="#osnotification">OSNotification</a></td>
<td>Contains user's response and properties of the notification.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">ExampleNotificationReceivedHandler</span> <span class="kd">implements</span> <span class="n">Kontext</span><span class="o">.</span><span class="na">NotificationReceivedHandler</span> <span class="o">{</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">notificationReceived</span><span class="o">(</span><span class="n">OSNotification</span> <span class="n">notification</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">JSONObject</span> <span class="n">data</span> <span class="o">=</span> <span class="n">notification</span><span class="o">.</span><span class="na">payload</span><span class="o">.</span><span class="na">additionalData</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">customKey</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">customKey</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">optString</span><span class="o">(</span><span class="s">&quot;customkey&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">customKey</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="s">&quot;KontxtExample&quot;</span><span class="o">,</span> <span class="s">&quot;customkey set with value: &quot;</span> <span class="o">+</span> <span class="n">customKey</span><span class="o">);</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<div class="admonition warning">
<p class="admonition-title">Important Behavior Note</p>
<p>If you will be displaying your own in app message when a notification is received make sure to call inFocusDisplaying with None to disable Kontext's in app AlertBox.</p>
</div>
<h3 id="notificationopenedhandler"><code class="codehilite">NotificationOpenedHandler</code><a class="headerlink" href="#notificationopenedhandler" title="Permanent link">&para;</a></h3>
<p>HANDLER</p>
<p>Use to process a Kontext notification the user just tapped on.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">result</code></td>
<td><a href="#osnotificationopenresult">OSNotificationOpenResult</a></td>
<td>Contains user's response and properties of the notification.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="kd">class</span> <span class="nc">ExampleNotificationOpenedHandler</span> <span class="kd">implements</span> <span class="n">Kontext</span><span class="o">.</span><span class="na">NotificationOpenedHandler</span> <span class="o">{</span>
  <span class="c1">// This fires when a notification is opened by tapping on it.</span>
  <span class="nd">@Override</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">notificationOpened</span><span class="o">(</span><span class="n">OSNotificationOpenResult</span> <span class="n">result</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">OSNotificationAction</span><span class="o">.</span><span class="na">ActionType</span> <span class="n">actionType</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">action</span><span class="o">.</span><span class="na">type</span><span class="o">;</span>
    <span class="n">JSONObject</span> <span class="n">data</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="na">notification</span><span class="o">.</span><span class="na">payload</span><span class="o">.</span><span class="na">additionalData</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">customKey</span><span class="o">;</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">data</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
      <span class="n">customKey</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="na">optString</span><span class="o">(</span><span class="s">&quot;customkey&quot;</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
      <span class="k">if</span> <span class="o">(</span><span class="n">customKey</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span>
        <span class="n">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="s">&quot;KontextExample&quot;</span><span class="o">,</span> <span class="s">&quot;customkey set with value: &quot;</span> <span class="o">+</span> <span class="n">customKey</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="k">if</span> <span class="o">(</span><span class="n">actionType</span> <span class="o">==</span> <span class="n">OSNotificationAction</span><span class="o">.</span><span class="na">ActionType</span><span class="o">.</span><span class="na">ActionTaken</span><span class="o">)</span>
      <span class="n">Log</span><span class="o">.</span><span class="na">i</span><span class="o">(</span><span class="s">&quot;KontextExample&quot;</span><span class="o">,</span> <span class="s">&quot;Button pressed with id: &quot;</span> <span class="o">+</span> <span class="n">result</span><span class="o">.</span><span class="na">action</span><span class="o">.</span><span class="na">actionID</span><span class="o">);</span>

    <span class="c1">// The following can be used to open an Activity of your choice.</span>
    <span class="c1">// Replace - getApplicationContext() - with any Android Context.</span>
    <span class="c1">// Intent intent = new Intent(getApplicationContext(), YourActivity.class);</span>
    <span class="c1">// intent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);</span>
    <span class="c1">// startActivity(intent);</span>

     <span class="c1">// Add the following to your AndroidManifest.xml to prevent the launching of your main Activity</span>
     <span class="c1">//   if you are calling startActivity above.</span>
     <span class="cm">/* </span>
<span class="cm">        &lt;application ...&gt;</span>
<span class="cm">          &lt;meta-data android:name=&quot;com.kontext.NotificationOpened.DEFAULT&quot; android:value=&quot;DISABLE&quot; /&gt;</span>
<span class="cm">        &lt;/application&gt;</span>
<span class="cm">     */</span>
  <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</td></tr></table>

<h3 id="osnotificationopenresult"><code class="codehilite">OSNotificationOpenResult</code><a class="headerlink" href="#osnotificationopenresult" title="Permanent link">&para;</a></h3>
<p>CLASS</p>
<p>The information returned from a notification the user received.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">notification</code></td>
<td><a href="#osnotification">OSNotification</a></td>
<td>Notification the user received.</td>
</tr>
<tr>
<td><code class="codehilite">action</code></td>
<td><a href="#osnotificationaction">OSNotificationAction</a></td>
<td>The action the user took on the notification.</td>
</tr>
</tbody>
</table>
<h3 id="osnotification"><code class="codehilite">OSNotification</code><a class="headerlink" href="#osnotification" title="Permanent link">&para;</a></h3>
<p>CLASS</p>
<p>The notification the user received.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">isAppInFocus</code></td>
<td>boolean</td>
<td>Was app in focus.</td>
</tr>
<tr>
<td><code class="codehilite">shown</code></td>
<td>boolean</td>
<td>Was notification shown to the user. Will be false for silent notifications.</td>
</tr>
<tr>
<td><code class="codehilite">androidNotificationId</code></td>
<td>int</td>
<td>Android Notification assigned to the notification. Can be used to cancel or replace the notification.</td>
</tr>
<tr>
<td><code class="codehilite">payload</code></td>
<td><a href="#osnotificationpayload">OSNotificationPayload</a></td>
<td>Payload received from Kontext.</td>
</tr>
<tr>
<td><code class="codehilite">displayType</code></td>
<td><a href="#displaytype">DisplayType</a></td>
<td>How the notification was displayed to the user. Can be set to <code class="codehilite">Notification</code>, <code class="codehilite">InAppAlert</code>, or <code class="codehilite">None</code> if it was not displayed.</td>
</tr>
<tr>
<td><code class="codehilite">groupedNotifications</code></td>
<td>List<OSNotificationPayloaod></td>
<td>Notification is a summary notification for a group this will contain all notification payloads it was created from.</td>
</tr>
</tbody>
</table>
<h4 id="displaytype"><code class="codehilite">DisplayType</code><a class="headerlink" href="#displaytype" title="Permanent link">&para;</a></h4>
<p>How the notification was displayed to the user. Part of <a href="#osnotification">OSNotification</a>. See <a href="#infocusdisplaying">inFocusDisplaying</a> for more information on how this is used. </p>
<p><code class="codehilite">Notification</code> - native notification display.
<code class="codehilite">InAppAlert</code> (DEFAULT) - native alert dialog display.
<code class="codehilite">None</code> - notification is silent, or <a href="#infocusdisplaying">inFocusDisplaying</a> is disabled.</p>
<h3 id="osnotificationaction"><code class="codehilite">OSNotificationAction</code><a class="headerlink" href="#osnotificationaction" title="Permanent link">&para;</a></h3>
<p>CLASS</p>
<p>The action the user took on the notification.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">type</code></td>
<td>ActionType</td>
<td>Was the notification opened normally (<code class="codehilite">Opened</code>) or was a button pressed on the notification (<code class="codehilite">ActionTaken</code>).</td>
</tr>
<tr>
<td><code class="codehilite">actionId</code></td>
<td>String</td>
<td>If <code class="codehilite">type</code> == <code class="codehilite">ActionTaken</code> then this will contain the id of the button pressed.</td>
</tr>
</tbody>
</table>
<h3 id="osnotificationpayload"><code class="codehilite">OSNotificationPayload</code><a class="headerlink" href="#osnotificationpayload" title="Permanent link">&para;</a></h3>
<p>CLASS</p>
<p>Contents and settings of the notification the user received.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">notificationID</code></td>
<td>String</td>
<td>Kontext notification UUID.</td>
</tr>
<tr>
<td><code class="codehilite">title</code></td>
<td>String</td>
<td>Title of the notification.</td>
</tr>
<tr>
<td><code class="codehilite">body</code></td>
<td>String</td>
<td>Body of the notification.</td>
</tr>
<tr>
<td><code class="codehilite">additionalData</code></td>
<td>JSONObject</td>
<td>Custom additional data that was sent with the notification.</td>
</tr>
<tr>
<td><code class="codehilite">smallIcon</code></td>
<td>String</td>
<td>Small icon resource name set on the notification.</td>
</tr>
<tr>
<td><code class="codehilite">largeIcon</code></td>
<td>String</td>
<td>Large icon set on the notification.</td>
</tr>
<tr>
<td><code class="codehilite">bigPicture</code></td>
<td>String</td>
<td>Big picture image set on the notification.</td>
</tr>
<tr>
<td><code class="codehilite">smallIconAccentColor</code></td>
<td>String</td>
<td>Accent color shown around small notification icon on Android 5+ devices. ARGB format.</td>
</tr>
<tr>
<td><code class="codehilite">launchUrl</code></td>
<td>String</td>
<td>URL to open when opening the notification.</td>
</tr>
<tr>
<td><code class="codehilite">sound</code></td>
<td>String</td>
<td>Sound resource to play when the notification is shown.</td>
</tr>
<tr>
<td><code class="codehilite">ledColor</code></td>
<td>String</td>
<td>Devices that have a notification LED will blink in this color. ARGB format</td>
</tr>
<tr>
<td><code class="codehilite">lockScreenVisibility</code></td>
<td>int</td>
<td>Privacy setting for how the notification should be shown on the lockscreen of Android 5+ devices.<br /> <code class="codehilite">1</code> (DEFAULT) - Public (fully visible)<br /> <code class="codehilite">0</code> - Private (Contents are hidden)<br /> <code class="codehilite">-1</code> - Secret (not shown).</td>
</tr>
<tr>
<td><code class="codehilite">groupKey</code></td>
<td>String</td>
<td>Notifications with this same key will be grouped together as a single summary notification.</td>
</tr>
<tr>
<td><code class="codehilite">groupMessage</code></td>
<td>string</td>
<td>Summary text displayed in the summary notification.</td>
</tr>
<tr>
<td><code class="codehilite">actionButtons</code></td>
<td>List<ActionButton></td>
<td>List of action buttons on the notification.</td>
</tr>
<tr>
<td><code class="codehilite">fromProjectNumber</code></td>
<td>String</td>
<td>The Google project number the notification was sent under.</td>
</tr>
<tr>
<td><code class="codehilite">backgroundImageLayout</code></td>
<td><a href="#backgroundimagelayout">BackgroundImageLayout</a></td>
<td>If a background image was set this object will be available.</td>
</tr>
<tr>
<td><code class="codehilite">rawPayload</code></td>
<td>String</td>
<td>Raw JSON payload string received from  Kontext.</td>
</tr>
</tbody>
</table>
<h4 id="actionbutton"><code class="codehilite">ActionButton</code><a class="headerlink" href="#actionbutton" title="Permanent link">&para;</a></h4>
<p>OBJECT</p>
<p>List of action buttons on the notification. Part of <a href="#osnotificationpayload">OSNotificationPayload</a>.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">id</code></td>
<td>String</td>
<td>Id assigned to the button.</td>
</tr>
<tr>
<td><code class="codehilite">text</code></td>
<td>String</td>
<td>Text show on the button to the user.</td>
</tr>
<tr>
<td><code class="codehilite">icon</code></td>
<td>String</td>
<td>Icon shown on the button.</td>
</tr>
</tbody>
</table>
<h4 id="backgroundimagelayout"><code class="codehilite">BackgroundImageLayout</code><a class="headerlink" href="#backgroundimagelayout" title="Permanent link">&para;</a></h4>
<p>OBJECT</p>
<p>If a background image was set, this object will be available. Part of <a href="#osnotificationpayload">OSNotificationPayload</a>.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">image</code></td>
<td>String</td>
<td>Image URL or name used as the background image.</td>
</tr>
<tr>
<td><code class="codehilite">titleTextColor</code></td>
<td>String</td>
<td>Text color of the title on the notification. ARGB Format.</td>
</tr>
<tr>
<td><code class="codehilite">bodyTextColor</code></td>
<td>String</td>
<td>Text color of the body on the notification. ARGB Format.</td>
</tr>
</tbody>
</table>
<h3 id="opened-action">Opened Action<a class="headerlink" href="#opened-action" title="Permanent link">&para;</a></h3>
<p>ANDROID MANIFEST</p>
<p>By default Kontext will open or resume your launcher Activity when a notification is tapped on. You can disable this behavior by adding the meta-data tag <code class="codehilite">com.kontext.NotificationOpened.DEFAULT</code> set to <code class="codehilite">DISABLE</code> inside your application tag in your <code class="codehilite">AndroidManifest.xml</code>.</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="nt">&lt;application</span> <span class="err">...</span><span class="nt">&gt;</span>
   <span class="nt">&lt;meta-data</span> <span class="na">android:name=</span><span class="s">&quot;com.kontext.NotificationOpened.DEFAULT&quot;</span> <span class="na">android:value=</span><span class="s">&quot;DISABLE&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/application&gt;</span>
</pre></div>
</td></tr></table>

<p>Make sure you are initializing <code class="codehilite">Kontext</code> with <a href="#setnotificationopenedhandler">setNotificationOpenedHandler</a> in the <code class="codehilite">onCreate</code> method in your <code class="codehilite">Application</code> class. You will need to call <code class="codehilite">startActivity</code> from this callback.</p>
<h2 id="appearance">Appearance<a class="headerlink" href="#appearance" title="Permanent link">&para;</a></h2>
<h3 id="enablevibrate"><code class="codehilite">enableVibrate</code><a class="headerlink" href="#enablevibrate" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>By default Kontext always vibrates the device when a notification is displayed unless the device is in a total silent mode. Passing false means that the device will only vibrate lightly when the device is in it's vibrate only mode.</p>
<p><em>You can link this action to a UI button to give your user a vibration option for your notifications.</em></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span>Kontext.enableVibrate(false);
</pre></div>
</td></tr></table>

<h3 id="enablesound"><code class="codehilite">enableSound</code><a class="headerlink" href="#enablesound" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>By default Kontext plays the system's default notification sound when the device's notification system volume is turned on. Passing false means that the device will only vibrate unless the device is set to a total silent mode.</p>
<p><em>You can link this action to a UI button to give your user a different sound option for your notifications.</em></p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">Kontext</span><span class="o">.</span><span class="na">enableSound</span><span class="o">(</span><span class="kc">false</span><span class="o">);</span>
</pre></div>
</td></tr></table>

<h2 id="debug">Debug<a class="headerlink" href="#debug" title="Permanent link">&para;</a></h2>
<h3 id="setdebuglevel"><code class="codehilite">setDebugLevel</code><a class="headerlink" href="#setdebuglevel" title="Permanent link">&para;</a></h3>
<p>METHOD</p>
<p>Enable logging to help debug if you run into an issue setting up Kontext. The following options are available with increasingly more information; <code class="codehilite">NONE</code>, <code class="codehilite">INFO</code>, <code class="codehilite">DEBUG</code>, <code class="codehilite">VERBOSE</code></p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="codehilite">logLevel</code></td>
<td>LOG_LEVEL</td>
<td>Sets the logging level to print to the Android LogCat log.</td>
</tr>
</tbody>
</table>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="n">KontextAPI</span><span class="o">.</span><span class="na">setDebugLevel</span><span class="o">(</span><span class="n">KontextAPI</span><span class="o">.</span><span class="na">LogLevel</span><span class="o">.</span><span class="na">INFO</span><span class="o">);</span>    <span class="c1">//Default Log level</span>

<span class="n">KontextAPI</span><span class="o">.</span><span class="na">setDebugLevel</span><span class="o">(</span><span class="n">KontextAPI</span><span class="o">.</span><span class="na">LogLevel</span><span class="o">.</span><span class="na">DEBUG</span><span class="o">);</span>   <span class="c1">//Set Log level to DEBUG log warnings or other important messages</span>

<span class="n">KontextAPI</span><span class="o">.</span><span class="na">setDebugLevel</span><span class="o">(</span><span class="n">KontextAPI</span><span class="o">.</span><span class="na">LogLevel</span><span class="o">.</span><span class="na">OFF</span><span class="o">);</span>     <span class="c1">//Switch off logs for Production environment</span>
</pre></div>
</td></tr></table>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../quickstart/" title="Quick Start" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Quick Start
              </span>
            </div>
          </a>
        
        
          <a href="../firebasekey/" title="Generate Firebase Key" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Generate Firebase Key
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2018 Adpin Technologies Pvt. Ltd.
          </div>
        
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="http://struct.cc" class="md-footer-social__link fa fa-globe"></a>
    
      <a href="https://github.com/kontext" class="md-footer-social__link fa fa-github-alt"></a>
    
      <a href="https://twitter.com/yourkontext" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://linkedin.com/in/kontext" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.150a6ebd.js"></script>
      
      <script>app.initialize({version:"0.17.4",url:{base:"../.."}})</script>
      
    
    
      
        <script>!function(e,a,t,n,o,c,i){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,c=a.createElement(t),i=a.getElementsByTagName(t)[0],c.async=1,c.src="https://www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","None","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");var links=document.getElementsByTagName("a");if(Array.prototype.map.call(links,function(e){e.host!=document.location.host&&e.addEventListener("click",function(){var a=e.getAttribute("data-md-action")||"follow";ga("send","event","outbound",a,e.href)})}),document.forms.search){var query=document.forms.search.query;query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}</script>
      
    
  </body>
</html>